# 1С:JSON (oscript-json)

Данная библиотека предназначена для парсинга и сериализации JSON в среде 1Script.

> **ВНИМАНИЕ: Проект устарел!**
> Библиотека была необходима, когда в 1С отсутствовали штатные средства работы с JSON. После появления системного API для обработки JSON в 1С 8.3.6 они появились и в 1Script.
> 
> Начиная с версии 1С 8.3.6 и в современных версиях 1Script, рекомендуется использовать системные методы `ПрочитатьJSON` и `ЗаписатьJSON`. 
> Библиотека сохранена в репозитории, так как она включена как зависимость во многие другие пакеты `oscript-library`.

## История и авторство

Библиотека является портом модуля Александра Переверзева (a.v.pereverzev@gmail.com).
Оригинальная публикация: [1С:JSON на Infostart](https://infostart.ru/1c/tools/119601/)

## Особенности

- Поддержка стандартного и альтернативного режимов JSON.
- Работа с типами 1С: `Структура`, `Соответствие`, `Массив`, `ТаблицаЗначений`, `ДеревоЗначений`, `Дата`, `УникальныйИдентификатор` и др.
- Поддержка комментариев в стиле `//` и `/* ... */` при чтении (нестандартное расширение).
- Возможность автоматического приведения объектов к `Структуре` или `Соответствию`.
- Маскирование кириллицы (опционально).

## Примеры использования

### Чтение JSON

```bsl
#Использовать json

Парсер = Новый ПарсерJSON();
ТекстJSON = "{""Имя"": ""Иван"", ""Возраст"": 30}";

// Простой парсинг (результат - Соответствие или Структура)
Результат = Парсер.ПрочитатьJSON(ТекстJSON);

// Чтение с принудительным приведением к Структуре
РезультатСтруктура = Парсер.ПрочитатьJSON(ТекстJSON, , , Истина);
```

### Запись JSON

```bsl
#Использовать json

Парсер = Новый ПарсерJSON();

Данные = Новый Структура();
Данные.Вставить("firstName", "Иван");
Данные.Вставить("phoneNumbers", Новый Массив());
Данные.phoneNumbers.Добавить("812 123-1234");

ТекстJSON = Парсер.ЗаписатьJSON(Данные);
```

## Лицензия

Библиотека распространяется под лицензией MIT (см. заголовок `src/json.os`).

